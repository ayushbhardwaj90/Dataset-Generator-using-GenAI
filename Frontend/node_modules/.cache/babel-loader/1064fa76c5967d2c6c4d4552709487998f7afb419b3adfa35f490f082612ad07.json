{"ast":null,"code":"import{ChevronDown,ChevronUp,Search}from'lucide-react';import{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const DataTable=_ref=>{let{data,title=\"Generated Data\",isRelational=false}=_ref;const[searchTerm,setSearchTerm]=useState('');const[sortColumn,setSortColumn]=useState(null);const[sortDirection,setSortDirection]=useState('asc');// 'asc' or 'desc'\nif(!data||isRelational&&Object.keys(data).length===0||!isRelational&&data.length===0){return/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 dark:text-gray-400 text-center py-8\",children:\"No data to display.\"});}const renderTable=function(tableData){let tableName=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!tableData||tableData.length===0){return/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 dark:text-gray-400\",children:[\"No records for \",tableName||'this table',\".\"]});}const allKeys=Array.from(new Set(tableData.flatMap(Object.keys)));const filteredData=tableData.filter(row=>allKeys.some(key=>String(row[key]).toLowerCase().includes(searchTerm.toLowerCase())));const sortedData=[...filteredData].sort((a,b)=>{if(!sortColumn)return 0;const aValue=a[sortColumn];const bValue=b[sortColumn];if(aValue===null||aValue===undefined)return sortDirection==='asc'?1:-1;if(bValue===null||bValue===undefined)return sortDirection==='asc'?-1:1;if(typeof aValue==='string'&&typeof bValue==='string'){return sortDirection==='asc'?aValue.localeCompare(bValue):bValue.localeCompare(aValue);}if(typeof aValue==='number'&&typeof bValue==='number'){return sortDirection==='asc'?aValue-bValue:bValue-aValue;}// Fallback for other types or mixed types\nreturn 0;});const handleSort=column=>{if(sortColumn===column){setSortDirection(sortDirection==='asc'?'desc':'asc');}else{setSortColumn(column);setSortDirection('asc');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg shadow overflow-x-auto mb-6\",children:[tableName&&/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold p-4 border-b dark:border-gray-700 text-gray-800 dark:text-white\",children:tableName}),/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50 dark:bg-gray-700\",children:/*#__PURE__*/_jsx(\"tr\",{children:allKeys.map(key=>/*#__PURE__*/_jsxs(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer select-none\",onClick:()=>handleSort(key),children:[key,sortColumn===key&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-1\",children:sortDirection==='asc'?/*#__PURE__*/_jsx(ChevronUp,{size:14,className:\"inline\"}):/*#__PURE__*/_jsx(ChevronDown,{size:14,className:\"inline\"})})]},key))})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\",children:sortedData.map((row,rowIndex)=>/*#__PURE__*/_jsx(\"tr\",{children:allKeys.map((key,colIndex)=>/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200\",children:String(row[key])},colIndex))},rowIndex))})]})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gray-50 dark:bg-gray-900 rounded-lg shadow-inner\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4 text-gray-800 dark:text-white\",children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(Search,{size:20,className:\"text-gray-500 dark:text-gray-400 mr-2\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search data...\",className:\"flex-grow p-2 border rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})]}),isRelational?Object.entries(data).map(_ref2=>{let[tableName,tableData]=_ref2;return/*#__PURE__*/_jsx(\"div\",{children:renderTable(tableData,tableName)},tableName);}):renderTable(data)]});};","map":{"version":3,"names":["ChevronDown","ChevronUp","Search","useState","jsx","_jsx","jsxs","_jsxs","DataTable","_ref","data","title","isRelational","searchTerm","setSearchTerm","sortColumn","setSortColumn","sortDirection","setSortDirection","Object","keys","length","className","children","renderTable","tableData","tableName","arguments","undefined","allKeys","Array","from","Set","flatMap","filteredData","filter","row","some","key","String","toLowerCase","includes","sortedData","sort","a","b","aValue","bValue","localeCompare","handleSort","column","map","scope","onClick","size","rowIndex","colIndex","type","placeholder","value","onChange","e","target","entries","_ref2"],"sources":["/workspace/Frontend/src/components/data/DataTable.js"],"sourcesContent":["import { ChevronDown, ChevronUp, Search } from 'lucide-react';\nimport { useState } from 'react';\n\nexport const DataTable = ({ data, title = \"Generated Data\", isRelational = false }) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [sortColumn, setSortColumn] = useState(null);\n  const [sortDirection, setSortDirection] = useState('asc'); // 'asc' or 'desc'\n\n  if (!data || (isRelational && Object.keys(data).length === 0) || (!isRelational && data.length === 0)) {\n    return <p className=\"text-gray-600 dark:text-gray-400 text-center py-8\">No data to display.</p>;\n  }\n\n  const renderTable = (tableData, tableName = null) => {\n    if (!tableData || tableData.length === 0) {\n      return <p className=\"text-gray-600 dark:text-gray-400\">No records for {tableName || 'this table'}.</p>;\n    }\n\n    const allKeys = Array.from(new Set(tableData.flatMap(Object.keys)));\n\n    const filteredData = tableData.filter(row =>\n      allKeys.some(key =>\n        String(row[key]).toLowerCase().includes(searchTerm.toLowerCase())\n      )\n    );\n\n    const sortedData = [...filteredData].sort((a, b) => {\n      if (!sortColumn) return 0;\n\n      const aValue = a[sortColumn];\n      const bValue = b[sortColumn];\n\n      if (aValue === null || aValue === undefined) return sortDirection === 'asc' ? 1 : -1;\n      if (bValue === null || bValue === undefined) return sortDirection === 'asc' ? -1 : 1;\n\n      if (typeof aValue === 'string' && typeof bValue === 'string') {\n        return sortDirection === 'asc' ? aValue.localeCompare(bValue) : bValue.localeCompare(aValue);\n      }\n      if (typeof aValue === 'number' && typeof bValue === 'number') {\n        return sortDirection === 'asc' ? aValue - bValue : bValue - aValue;\n      }\n      // Fallback for other types or mixed types\n      return 0;\n    });\n\n    const handleSort = (column) => {\n      if (sortColumn === column) {\n        setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc');\n      } else {\n        setSortColumn(column);\n        setSortDirection('asc');\n      }\n    };\n\n    return (\n      <div className=\"bg-white dark:bg-gray-800 rounded-lg shadow overflow-x-auto mb-6\">\n        {tableName && <h3 className=\"text-xl font-semibold p-4 border-b dark:border-gray-700 text-gray-800 dark:text-white\">{tableName}</h3>}\n        <table className=\"min-w-full divide-y divide-gray-200 dark:divide-gray-700\">\n          <thead className=\"bg-gray-50 dark:bg-gray-700\">\n            <tr>\n              {allKeys.map(key => (\n                <th\n                  key={key}\n                  scope=\"col\"\n                  className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider cursor-pointer select-none\"\n                  onClick={() => handleSort(key)}\n                >\n                  {key}\n                  {sortColumn === key && (\n                    <span className=\"ml-1\">\n                      {sortDirection === 'asc' ? <ChevronUp size={14} className=\"inline\" /> : <ChevronDown size={14} className=\"inline\" />}\n                    </span>\n                  )}\n                </th>\n              ))}\n            </tr>\n          </thead>\n          <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\n            {sortedData.map((row, rowIndex) => (\n              <tr key={rowIndex}>\n                {allKeys.map((key, colIndex) => (\n                  <td key={colIndex} className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-200\">\n                    {String(row[key])}\n                  </td>\n                ))}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"p-4 bg-gray-50 dark:bg-gray-900 rounded-lg shadow-inner\">\n      <h2 className=\"text-2xl font-bold mb-4 text-gray-800 dark:text-white\">{title}</h2>\n      <div className=\"mb-4 flex items-center\">\n        <Search size={20} className=\"text-gray-500 dark:text-gray-400 mr-2\" />\n        <input\n          type=\"text\"\n          placeholder=\"Search data...\"\n          className=\"flex-grow p-2 border rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n        />\n      </div>\n\n      {isRelational ? (\n        Object.entries(data).map(([tableName, tableData]) => (\n          <div key={tableName}>\n            {renderTable(tableData, tableName)}\n          </div>\n        ))\n      ) : (\n        renderTable(data)\n      )}\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}