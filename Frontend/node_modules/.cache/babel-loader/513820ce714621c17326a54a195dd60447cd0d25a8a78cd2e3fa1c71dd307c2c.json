{"ast":null,"code":"import{useState}from'react';import{useAuth}from'../../context/AuthContext';import{api}from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const LoginForm=_ref=>{let{onLoginSuccess,onForgotPassword}=_ref;const{login,API_BASE_URL}=useAuth();const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(false);const handleSubmit=async e=>{e.preventDefault();setError('');setLoading(true);try{const tokenData=await api.login(username,password,API_BASE_URL);const userData=await api.request('GET',\"\".concat(API_BASE_URL,\"/me\"),null,tokenData.access_token);login(tokenData.access_token,userData);onLoginSuccess();}catch(err){setError(err.message||'Login failed');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-md w-96\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6 text-gray-800 dark:text-white text-center\",children:\"Login\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm mb-4 text-center\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2\",htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline dark:bg-gray-700 dark:text-white dark:border-gray-600\",value:username,onChange:e=>setUsername(e.target.value),required:true,disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2\",htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline dark:bg-gray-700 dark:text-white dark:border-gray-600\",value:password,onChange:e=>setPassword(e.target.value),required:true,disabled:loading})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full disabled:opacity-50\",disabled:loading,children:loading?'Logging in...':'Login'})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 text-center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onForgotPassword,className:\"text-sm text-blue-500 hover:text-blue-700\",children:\"Forgot Password?\"})})]})});};","map":{"version":3,"names":["useState","useAuth","api","jsx","_jsx","jsxs","_jsxs","LoginForm","_ref","onLoginSuccess","onForgotPassword","login","API_BASE_URL","username","setUsername","password","setPassword","error","setError","loading","setLoading","handleSubmit","e","preventDefault","tokenData","userData","request","concat","access_token","err","message","className","children","onSubmit","htmlFor","type","id","value","onChange","target","required","disabled","onClick"],"sources":["/workspace/Frontend/src/components/auth/LoginForm.js"],"sourcesContent":["import { useState } from 'react';\nimport { useAuth } from '../../context/AuthContext';\nimport { api } from '../../services/api';\n\nexport const LoginForm = ({ onLoginSuccess, onForgotPassword }) => {\n  const { login, API_BASE_URL } = useAuth();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n    try {\n      const tokenData = await api.login(username, password, API_BASE_URL);\n      const userData = await api.request('GET', `${API_BASE_URL}/me`, null, tokenData.access_token);\n      login(tokenData.access_token, userData);\n      onLoginSuccess();\n    } catch (err) {\n      setError(err.message || 'Login failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900\">\n      <form onSubmit={handleSubmit} className=\"bg-white dark:bg-gray-800 p-8 rounded-lg shadow-md w-96\">\n        <h2 className=\"text-2xl font-bold mb-6 text-gray-800 dark:text-white text-center\">Login</h2>\n        {error && <p className=\"text-red-500 text-sm mb-4 text-center\">{error}</p>}\n        <div className=\"mb-4\">\n          <label className=\"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2\" htmlFor=\"username\">\n            Username\n          </label>\n          <input\n            type=\"text\"\n            id=\"username\"\n            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline dark:bg-gray-700 dark:text-white dark:border-gray-600\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n            required\n            disabled={loading}\n          />\n        </div>\n        <div className=\"mb-6\">\n          <label className=\"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2\" htmlFor=\"password\">\n            Password\n          </label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline dark:bg-gray-700 dark:text-white dark:border-gray-600\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n            disabled={loading}\n          />\n        </div>\n        <div className=\"flex items-center justify-between\">\n          <button\n            type=\"submit\"\n            className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full disabled:opacity-50\"\n            disabled={loading}\n          >\n            {loading ? 'Logging in...' : 'Login'}\n          </button>\n        </div>\n        <div className=\"mt-4 text-center\">\n            <button\n                type=\"button\"\n                onClick={onForgotPassword}\n                className=\"text-sm text-blue-500 hover:text-blue-700\"\n            >\n                Forgot Password?\n            </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}