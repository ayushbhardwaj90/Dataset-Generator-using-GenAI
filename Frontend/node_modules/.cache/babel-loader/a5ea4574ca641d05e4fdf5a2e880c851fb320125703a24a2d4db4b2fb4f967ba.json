{"ast":null,"code":"// ayushbhardwaj90/dataset-generator-using-genai/Dataset-Generator-using-GenAI-79155e47a57111fac9d81a099df114ccf1eeb342/api.js\nconst api={async request(method,url){let data=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let token=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;const headers={'Content-Type':'application/json'};if(token){headers['Authorization']=\"Bearer \".concat(token);}const config={method,headers};if(data){config.body=JSON.stringify(data);}const response=await fetch(url,config);if(!response.ok){const errorData=await response.json();throw new Error(errorData.detail||'Something went wrong');}try{// Some endpoints might not return JSON (e.g., successful exports)\nreturn await response.json();}catch(e){return response;// Return the response object directly if no JSON\n}},async login(username,password,API_BASE_URL){const formData=new URLSearchParams();formData.append('username',username);formData.append('password',password);const response=await fetch(\"\".concat(API_BASE_URL,\"/token\"),{method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:formData.toString()});if(!response.ok){const errorData=await response.json();throw new Error(errorData.detail||'Login failed');}return response.json();},async register(username,email,password,API_BASE_URL){return this.request('POST',\"\".concat(API_BASE_URL,\"/register\"),{username,email,password});},async forgotPassword(email,API_BASE_URL){return this.request('POST',\"\".concat(API_BASE_URL,\"/forgot-password\"),{email});},async resetPassword(token,newPassword,API_BASE_URL){return this.request('POST',\"\".concat(API_BASE_URL,\"/reset-password\"),{token,new_password:newPassword});},async getDomains(token,API_BASE_URL){return this.request('GET',\"\".concat(API_BASE_URL,\"/domains\"),null,token);},async generateData(domain,rows,custom_prompt,constraints,token,API_BASE_URL){return this.request('POST',\"\".concat(API_BASE_URL,\"/generate\"),{domain,rows,custom_prompt,constraints},token);},async generateRelationalData(tables,global_constraints,token,API_BASE_URL){return this.request('POST',\"\".concat(API_BASE_URL,\"/generate/relational\"),{tables,global_constraints},token);},async getHistory(token,API_BASE_URL){return this.request('GET',\"\".concat(API_BASE_URL,\"/history\"),null,token);},async augmentData(augmentRequest,token,API_BASE_URL){return this.request('POST',\"\".concat(API_BASE_URL,\"/augment\"),augmentRequest,token);},async exportData(format,domain,rows,custom_prompt,token,API_BASE_URL){let url=\"\".concat(API_BASE_URL,\"/export/\").concat(format,\"?domain=\").concat(domain,\"&rows=\").concat(rows);if(custom_prompt){url+=\"&custom_prompt=\".concat(encodeURIComponent(custom_prompt));}const response=await fetch(url,{method:'GET',headers:{'Authorization':\"Bearer \".concat(token)}});if(!response.ok){let errorDetail='Something went wrong during export';try{const errorData=await response.json();errorDetail=errorData.detail||errorDetail;}catch(_unused){// Fallback if the response is not valid JSON\n}throw new Error(errorDetail);}return response;}};export{api};","map":{"version":3,"names":["api","request","method","url","data","arguments","length","undefined","token","headers","concat","config","body","JSON","stringify","response","fetch","ok","errorData","json","Error","detail","e","login","username","password","API_BASE_URL","formData","URLSearchParams","append","toString","register","email","forgotPassword","resetPassword","newPassword","new_password","getDomains","generateData","domain","rows","custom_prompt","constraints","generateRelationalData","tables","global_constraints","getHistory","augmentData","augmentRequest","exportData","format","encodeURIComponent","errorDetail","_unused"],"sources":["/workspace/Frontend/src/services/api.js"],"sourcesContent":["// ayushbhardwaj90/dataset-generator-using-genai/Dataset-Generator-using-GenAI-79155e47a57111fac9d81a099df114ccf1eeb342/api.js\n\nconst api = {\n  async request(method, url, data = null, token = null) {\n    const headers = {\n      'Content-Type': 'application/json',\n    };\n    if (token) {\n      headers['Authorization'] = `Bearer ${token}`;\n    }\n\n    const config = {\n      method,\n      headers,\n    };\n    if (data) {\n      config.body = JSON.stringify(data);\n    }\n\n    const response = await fetch(url, config);\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.detail || 'Something went wrong');\n    }\n    try {\n      // Some endpoints might not return JSON (e.g., successful exports)\n      return await response.json();\n    } catch (e) {\n      return response; // Return the response object directly if no JSON\n    }\n  },\n\n  async login(username, password, API_BASE_URL) {\n    const formData = new URLSearchParams();\n    formData.append('username', username);\n    formData.append('password', password);\n\n    const response = await fetch(`${API_BASE_URL}/token`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      body: formData.toString(),\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.detail || 'Login failed');\n    }\n    return response.json();\n  },\n\n  async register(username, email, password, API_BASE_URL) {\n    return this.request('POST', `${API_BASE_URL}/register`, { username, email, password });\n  },\n\n  async forgotPassword(email, API_BASE_URL) {\n    return this.request('POST', `${API_BASE_URL}/forgot-password`, { email });\n  },\n\n  async resetPassword(token, newPassword, API_BASE_URL) {\n    return this.request('POST', `${API_BASE_URL}/reset-password`, { token, new_password: newPassword });\n  },\n\n  async getDomains(token, API_BASE_URL) {\n    return this.request('GET', `${API_BASE_URL}/domains`, null, token);\n  },\n\n  async generateData(domain, rows, custom_prompt, constraints, token, API_BASE_URL) {\n    return this.request('POST', `${API_BASE_URL}/generate`, { domain, rows, custom_prompt, constraints }, token);\n  },\n\n  async generateRelationalData(tables, global_constraints, token, API_BASE_URL) {\n    return this.request('POST', `${API_BASE_URL}/generate/relational`, { tables, global_constraints }, token);\n  },\n\n  async getHistory(token, API_BASE_URL) {\n    return this.request('GET', `${API_BASE_URL}/history`, null, token);\n  },\n\n  async augmentData(augmentRequest, token, API_BASE_URL) {\n    return this.request('POST', `${API_BASE_URL}/augment`, augmentRequest, token);\n  },\n\n  async exportData(format, domain, rows, custom_prompt, token, API_BASE_URL) {\n    let url = `${API_BASE_URL}/export/${format}?domain=${domain}&rows=${rows}`;\n    if (custom_prompt) {\n      url += `&custom_prompt=${encodeURIComponent(custom_prompt)}`;\n    }\n\n    const response = await fetch(url, {\n      method: 'GET',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n      },\n    });\n\n    if (!response.ok) {\n      let errorDetail = 'Something went wrong during export';\n      try {\n        const errorData = await response.json();\n        errorDetail = errorData.detail || errorDetail;\n      } catch {\n        // Fallback if the response is not valid JSON\n      }\n      throw new Error(errorDetail);\n    }\n\n    return response;\n  }\n};\n\nexport { api };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}